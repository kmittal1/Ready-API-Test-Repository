<?xml version="1.0" encoding="UTF-8"?>
<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="TestCase - Searching after Logging out LoadTests" searchProperties="true" maxResults="0" id="c3d3394e-1c70-404a-bcf5-7e6437e10728" xmlns:con="http://eviware.com/soapui/config"><con:description>Here is an interesting TestCase.

The actual TestCase itself is not that interesting, but we've used it in order to test how the Web Service handles load.

AND...

The second LoadTest "LoadTest with Multiple Tests (will fail)" DOES fail. Why does it fail and not the first? 
This is because in the first test we have just one simple thread and in the second we have a whopping ten.

What have we achieved?
Our Web Service is not thread safe!
Bug Found!
</con:description><con:settings><con:setting id="c3d3394e-1c70-404a-bcf5-7e6437e10728fileName">TestCase---Searching-after-Logging-out-LoadTests</con:setting></con:settings><con:testStep type="request" name="Test Request - Login" id="0a7efbb2-8f67-4db6-969b-9e8134d20279"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ServiceSoapBinding</con:interface><con:operation>login</con:operation><con:request name="Test Request - Login" outgoingWss="" incomingWss="" id="fa32357e-9cff-424d-a299-03f8738124f5"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://127.0.0.1:8088/mockServiceSoapBinding</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sam="http://www.soapui.org/sample/">
 <soapenv:Header/>
 <soapenv:Body>
 <sam:login>
 <username>Login${=String.valueOf(Math.random()).substring( 0, 5 )}</username>
 <password>Login123</password>
 </sam:login>
 </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="093abcd5-f21f-454a-97e9-b76d354b584d"/><con:assertion type="Schema Compliance" id="1a1559fc-915f-4002-a056-246c1898a782"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion" id="9cc5aea4-b5eb-449b-a203-5b555e590dee"/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Test Request - logout" id="29ff2f55-0e37-4b2f-bb1b-32ad2af9157b"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ServiceSoapBinding</con:interface><con:operation>logout</con:operation><con:request name="Test Request - logout" outgoingWss="" incomingWss="" id="429c4f90-25a2-4d4a-9ec3-40ba39ed76e9"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://127.0.0.1:8088/mockServiceSoapBinding</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sam="http://www.soapui.org/sample/">
 <soapenv:Header/>
 <soapenv:Body>
 <sam:logout>
 <sessionid>${Test Request - Login#Response#//sam:loginResponse/sessionid}</sessionid>
 </sam:logout>
 </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="73118d55-ed8b-40c0-9199-02eac3a23b60"/><con:assertion type="Schema Compliance" id="e8bcf506-71ca-41b0-af3c-415e07bb27a4"><con:configuration/></con:assertion><con:assertion type="XPath Match" id="d8668ab2-9132-4497-9b1e-28ff52e06d5b"><con:configuration><path>declare namespace sam='http://www.soapui.org/sample/';
//sam:logoutResponse/sessioninfo</path><content>OK</content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Test Request - Correct Search after Logout" id="f3787b31-6a76-4ad9-9190-3c92cd05701a"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ServiceSoapBinding</con:interface><con:operation>search</con:operation><con:request name="Test Request - Correct Search after Logout" outgoingWss="" incomingWss="" id="55474015-7742-4081-bd27-762a879b531b"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://127.0.0.1:8088/mockServiceSoapBinding</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sam="http://www.soapui.org/sample/">
 <soapenv:Header/>
 <soapenv:Body>
 <sam:search>
 <sessionid>${Test Request - Login#Response#//sam:loginResponse/sessionid}</sessionid>
 <searchstring>Item 4</searchstring>
 </sam:search>
 </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" id="78201c96-40ca-4231-ac54-d16b225b6b9e"/><con:assertion type="Schema Compliance" name="Schema Compliance" id="e0ce7918-512c-4bd9-9892-9718bdc4dc54"><con:configuration/></con:assertion><con:assertion type="Not SOAP Fault Assertion" id="83453197-e57e-4224-aa9f-35581838272c"/><con:assertion type="XPath Match" id="f0e2347b-c5fb-461f-b01e-ce2dba3c7bbd"><con:configuration><path>//faultstring</path><content>Invalid Session Id</content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:loadTest name="LoadTest" id="c0bdf270-6c63-42c2-ac77-59772800eede"><con:settings><con:setting id="HttpSettings@close-connections">false</con:setting></con:settings><con:threadCount>1</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>false</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>60</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:maxAssertionErrors>100</con:maxAssertionErrors><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval><con:reportParameters/></con:loadTest><con:loadTest name="LoadTest with Multiple Tests (will fail)" id="7c347371-9b79-4ae3-a134-33b026bf0fe0"><con:settings><con:setting id="HttpSettings@close-connections">false</con:setting></con:settings><con:threadCount>10</con:threadCount><con:startDelay>0</con:startDelay><con:sampleInterval>250</con:sampleInterval><con:calculateTPSOnTimePassed>false</con:calculateTPSOnTimePassed><con:resetStatisticsOnThreadCountChange>true</con:resetStatisticsOnThreadCountChange><con:historyLimit>-1</con:historyLimit><con:testLimit>60</con:testLimit><con:limitType>TIME</con:limitType><con:loadStrategy><con:type>Simple</con:type></con:loadStrategy><con:assertion type="Step Status" name="Step Status"/><con:assertion type="Max Errors" name="After 30 errors, stop"><con:configuration><name>After 30 errors, stop</name><max-absolute-errors>30</max-absolute-errors><max-relative-errors>0.0</max-relative-errors><test-step>- Any -</test-step></con:configuration></con:assertion><con:maxAssertionErrors>100</con:maxAssertionErrors><con:cancelExcessiveThreads>true</con:cancelExcessiveThreads><con:strategyInterval>500</con:strategyInterval><con:reportParameters/></con:loadTest><con:properties><con:property><con:name>URL</con:name><con:value/></con:property></con:properties><con:reportParameters/></con:testCase>